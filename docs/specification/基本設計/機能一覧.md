# 機能一覧

## 1. 共通・認証系機能

| No | 機能名 | 説明 |
| --- | --- | --- |
| C-01 | ログイン | メールアドレス・パスワードによる認証 |
| C-02 | 会員登録 | 新規ユーザー登録 |
| C-03 | プロフィール編集 | 名前・アイコン・自己紹介の編集 |
| C-04 | 設定 | 通知設定・アカウント関連設定 |
| C-05 | ヘルプ / FAQ | よくある質問の閲覧 |
| C-06 | 利用規約 / プライバシーポリシー | 規約文書の閲覧 |
| C-07 | ブロックリスト管理 | ブロックした相手の管理 |
| C-08 | ログアウト | セッション終了 |

---

## 2. ユーザー向け機能（通話する側）

### 2.1 おともはん閲覧・選択

| No | 機能名 | 説明 |
| --- | --- | --- |
| U-01 | おともはん一覧 | 稼働中・評価・プロフィールの一覧表示 |
| U-02 | おともはん詳細 | プロフィール・評価・料金の確認 |
| U-03 | 通話リクエスト確認 | 通話開始前の確認モーダル |

---

### 2.2 通話機能（SFU / WebRTC）

| No | 機能名 | 説明 |
| --- | --- | --- |
| U-04 | 通話中画面 | 音声通話・残ポイント表示 |
| WS-S04 | 通話接続通知 | RTP到達による通話開始通知 |
| WS-S05 | 通話課金Tick | 1分ごとの課金通知 |
| WS-S07 | 通話終了通知 | RTP停止ベースの終了判定 |
| A-異常 | 異常切断処理 | 片側切断時の通話終了処理 |

---

### 2.3 履歴・レビュー

| No | 機能名 | 説明 |
| --- | --- | --- |
| U-05 | 通話終了画面 | 課金サマリー表示 |
| U-08 | 通話履歴一覧 | 過去の通話履歴 |
| U-09 | 通話履歴詳細 | 個別通話の詳細 |
| U-10 | マイページ | プロフィール・履歴への導線 |
| U-11 | プロフィール編集 | マイページからの編集 |
| U-12 | レビュー投稿 | 通話後の評価・コメント |

---

### 2.4 ウォレット・ポイント

| No | 機能名 | 説明 |
| --- | --- | --- |
| WAL-01 | ポイント残高確認 | 現在の残ポイント表示 |
| WAL-02 | チャージプラン一覧 | 購入可能プラン表示 |
| WAL-03 | ポイント購入 | チャージ処理 |
| WAL-04 | 購入履歴 | ポイント購入履歴 |
| WAL-05 | 使用履歴 | 通話での消費履歴 |

---

## 3. おともはん向け機能（通話を受ける側）

| No | 機能名 | 説明 |
| --- | --- | --- |
| O-01 | おともはんホーム | 待機状態・稼働状態表示 |
| O-02 | 着信画面 | 通話リクエスト受信 |
| O-03 | 通話中画面 | 音声通話中UI |
| O-04 | 通話終了画面 | 通話終了通知 |
| O-05 | 収益ダッシュボード | 収益・通話実績の可視化（将来） |
| O-06 | 稼働スケジュール設定 | 稼働時間の事前設定（将来） |
| O-07 | 評価・レビュー確認 | ユーザー評価の確認 |

---

## 4. WebRTC / SFU（mediasoup）関連機能

| No | 機能名 | 説明 |
| --- | --- | --- |
| RTC-01 | RTP Capabilities取得 | RouterのCapabilities取得 |
| RTC-02 | Transport作成 | send / recv Transport生成 |
| RTC-04 | Producer作成 | 音声送信Producer作成 |
| RTC-05 | Consumer作成 | 相手音声受信 |
| RTC-06 | Consumer Resume | 音声受信開始 |
| RTC-07 | RTCリソース解放 | Transport / Producer / Consumer cleanup |

---

## 5. 管理者向け機能（Admin）

### 5.1 管理・監査

| No | 機能名 | 説明 |
| --- | --- | --- |
| A-01 | 管理ログイン | 管理者認証 |
| A-02 | ユーザー管理 | BAN / 解除 / プロフィール確認 |
| A-03 | おともはん管理 | 状態管理・実績確認 |
| A-04 | 通話ログ / モニタリング | 通話履歴・終了理由・RTPログ |
| A-05 | ポイント管理 | 付与・調整・不正防止 |
| A-06 | トラフィックモニタ | SFU/TURN/WS負荷監視 |
| A-07 | 通知管理 | お知らせ配信 |
| A-08 | 通報管理 | 通報の審査・対応 |
| A-09 | レビュー管理 | レビュー監査 |
| A-10 | 管理操作ログ | 管理者操作の監査ログ |

---

## 6. 将来拡張機能（参考）

| No | 機能名 | 説明 |
| --- | --- | --- |
| A-11 | キャンペーン管理 | 割引・還元施策 |
| A-12 | おともはん審査 | 承認フロー |
| A-13 | 品質分析 | 無応答率・低評価分析 |
| A-14 | 収益精算管理 | おともはん支払い管理 |

---

## 7. 補足（基本設計としての位置づけ）

- 本機能一覧は **要件定義後〜詳細設計前の「基本設計」レベル**
- 画面ID / API ID / WSイベントと **1対1でトレース可能**
- そのまま
    - 機能仕様書
    - API設計書
    - テスト観点一覧
        
        に展開可能