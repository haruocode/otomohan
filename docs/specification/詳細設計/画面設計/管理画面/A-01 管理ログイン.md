# A-01 管理ログイン

※A系はすべて「運営者（管理者）用」の管理画面という位置づけです。

ユーザー／おともはんとは完全に別システムになります。

---

# 1. 画面概要

管理者（運営）が **管理コンソールにログインするための画面**。

目的：

- セキュアな管理システムへの入口
- 不正アクセスを確実に排除
- MFA（多要素認証）にも対応できる構造

利用者は「運営者のみ」であり、一般ユーザー・おともはんはアクセスしない前提。

---

# 2. 画面構造（UI）

---

## **ヘッダー**

不要（フルスクリーンのログイン画面で問題なし）

---

# 3. メインコンテンツ

---

## ① タイトル

中央にサービス名 + 管理コンソール名

```
OTOMOHAN Admin Console
```

※ 運営名やロゴを置いてもよい

---

## ② ログインフォーム

### 入力項目

- メールアドレス
    - プレースホルダー例：`admin@example.com`
    - バリデーション：メール形式チェック
- パスワード
    - 伏字入力
    - 「表示 / 非表示」アイコンあり

---

## ③ ログインボタン

```
[ ログイン ]
```

押下 → APIと連携し、

- 認証成功 → A-02（管理ダッシュボード）へ遷移
- 認証失敗 → エラー文表示

---

## ④ エラーメッセージ

失敗時：

```
メールアドレスまたはパスワードが違います
```

セキュリティの観点から、「どちらが間違っているか」は絶対に出さない。

---

## ⑤ MFA（将来対応）

ログイン成功後に次の画面へ進む：

```
認証コードを入力してください
［   ］（6桁）
```

SMS / Authenticator App どちらでも対応可能な設計。

---

## ⑥ パスワードリセットリンク（任意）

```
パスワードをお忘れですか？
```

管理者のみの運用ならなくてもよいが、最低限の UX として準備しておくと良い。

---

# 4. API 連動

| 用途 | API |
| --- | --- |
| ログイン | POST /admin/auth/login |
| MFA 認証 | POST /admin/auth/mfa |
| パスワードリセット要求（任意） | POST /admin/auth/password-reset |

### ログイン API 例

```json
POST /admin/auth/login
{
  "email": "admin@example.com",
  "password": "xxxxxx"
}
```

成功時：

```json
{
  "token": "admin_jwt_token",
  "mfaRequired": false
}
```

---

# 5. セキュリティ要件（重要）

- **管理画面は完全に別ドメイン**
    - 例：`admin.otomohan.jp`
- JWT / cookie どちらでも可だが
    
    **Secure / HttpOnly / SameSite** は必須
    
- IP 制限・CORS 制限も可能なら行う
- ログイン試行回数制限（5回でロックなど）
- 全操作を管理ログに記録（A-10）

---

# 6. デザイン仕様

- ユーザー向けUIと統一しなくても良い
- 管理画面は **シンプルで白ベース or 黒ベース**
- 最小限の要素で高速ログイン
- ボタンや入力欄は少し角丸
- エラー文は赤で明確に

---

# 7. 画面レイアウト（概略）

```
OTOMOHAN Admin Console

   メールアドレス
   [ admin@example.com ]

   パスワード
   [ *********** ] (👁)

   [ ログイン ]

パスワードをお忘れですか？
```